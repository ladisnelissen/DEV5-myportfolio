(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const n of e.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function r(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?e.credentials="include":t.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function i(t){if(t.ep)return;t.ep=!0;const e=r(t);fetch(t.href,e)}})();class h{constructor(o){this.apiKey=o,localStorage.getItem("weather")&&Date.now()-localStorage.getItem("weather")<36e5?this.weather=JSON.parse(localStorage.getItem("weather")):this.getLocation()}getLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.getWeather.bind(this)):alert("Geolocation is not supported by this browser.")}getWeather(o){let r=o.coords.latitude,i=o.coords.longitude,t=`https://api.weatherapi.com/v1/current.json?key=${this.apiKey}&q=${r},${i}&aqi=no`;fetch(t).then(e=>e.json()).then(e=>{this.weather=e,localStorage.setItem("weather",JSON.stringify(e)),localStorage.setItem("weatherTime",Date.now()),this.displayWeather(e)})}displayWeather(o){const r=Math.round((o.current.temp_f-32)*.5555555555555556);o.current.condition.text;const i=o.location.country;this.getBooks(o),document.querySelector(".weather").innerHTML="It is "+r+"\xB0C in "+i}getBooks(o){let r,i=Math.round((o.current.temp_f-32)*.5555555555555556);i<0?r="Ice Age":i<20?r="Holiday Inn":r="Baywatch";const t={method:"GET",headers:{"X-RapidAPI-Key":"744050e180msh434911057e03b99p1dc403jsnc1ec10613d3c","X-RapidAPI-Host":"imdb8.p.rapidapi.com"}};fetch(`https://imdb8.p.rapidapi.com/title/find?q=${r}`,t).then(e=>e.json()).then(e=>{let n=e.results[0].runningTimeInMinutes,c=Math.floor(n/60),a=n%60,u=e.results[0].title;document.querySelector(".title").innerHTML="You should watch "+u+" which is "+c+" hours and "+a+" minutes long.";let s=document.getElementById("app");s.style.backgroundImage="url("+e.results[0].image.url+")",s.style.backgroundPosition="center",s.style.backgroundRepeat="no-repeat",s.style.backgroundSize="cover"}).catch(e=>console.error(e))}}new h("2de1379bab094bcfa4f103733220910");
